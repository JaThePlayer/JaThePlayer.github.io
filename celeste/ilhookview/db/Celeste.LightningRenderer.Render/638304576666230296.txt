IL Diff: System.Void Celeste.LightningRenderer::Render()
  IL_0000: ldarg.0
  IL_0001: ldfld System.Collections.Generic.List`1<Celeste.Lightning> Celeste.LightningRenderer::list
  IL_0006: callvirt System.Int32 System.Collections.Generic.List`1<Celeste.Lightning>::get_Count()
  IL_000b: ldc.i4.0
  IL_000c: bgt IL_0012
  IL_0011: ret
  IL_0012: ldarg.0
  IL_0013: call Monocle.Scene Monocle.Entity::get_Scene()
  IL_0018: isinst Celeste.Level
  IL_001d: ldfld Monocle.Camera Celeste.Level::Camera
  IL_0022: stloc.0
  IL_0023: ldloc.0
  IL_0024: callvirt System.Single Monocle.Camera::get_Left()
  IL_0029: conv.i4
  IL_002a: ldloc.0
  IL_002b: callvirt System.Single Monocle.Camera::get_Top()
  IL_0030: conv.i4
  IL_0031: ldloc.0
  IL_0032: callvirt System.Single Monocle.Camera::get_Right()
  IL_0037: ldloc.0
  IL_0038: callvirt System.Single Monocle.Camera::get_Left()
  IL_003d: sub
  IL_003e: conv.i4
  IL_003f: ldloc.0
  IL_0040: callvirt System.Single Monocle.Camera::get_Bottom()
  IL_0045: ldloc.0
  IL_0046: callvirt System.Single Monocle.Camera::get_Top()
  IL_004b: sub
  IL_004c: conv.i4
  IL_004d: newobj System.Void Microsoft.Xna.Framework.Rectangle::.ctor(System.Int32,System.Int32,System.Int32,System.Int32)
  IL_0052: pop
  IL_0053: ldarg.0
  IL_0054: ldfld System.Collections.Generic.List`1<Celeste.Lightning> Celeste.LightningRenderer::list
  IL_0059: callvirt System.Collections.Generic.List`1/Enumerator<T> System.Collections.Generic.List`1<Celeste.Lightning>::GetEnumerator()
  IL_005e: stloc.1
  IL_005f: br IL_00c0
  IL_0064: ldloca.s V_1
  IL_0066: call T System.Collections.Generic.List`1/Enumerator<Celeste.Lightning>::get_Current()
  IL_006b: stloc.2
  IL_006c: ldloc.2
  IL_006d: ldfld System.Boolean Monocle.Entity::Visible
+ IL_0072: ldloc.2 @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
+ IL_0073: call System.Boolean TAS.EverestInterop.SimplifiedGraphicsFeature::IsSimplifiedLightning(System.Boolean,Celeste.Lightning) @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
  IL_0078: brfalse IL_00c0
  IL_007d: call Microsoft.Xna.Framework.Graphics.SpriteBatch Monocle.Draw::get_SpriteBatch()
  IL_0082: ldsfld Monocle.VirtualRenderTarget Celeste.GameplayBuffers::Lightning
  IL_0087: call Microsoft.Xna.Framework.Graphics.RenderTarget2D Monocle.VirtualRenderTarget::op_Implicit(Monocle.VirtualRenderTarget)
  IL_008c: ldloc.2
  IL_008d: ldfld Microsoft.Xna.Framework.Vector2 Monocle.Entity::Position
  IL_0092: ldloc.2
  IL_0093: callvirt System.Single Monocle.Entity::get_X()
  IL_0098: conv.i4
  IL_0099: ldloc.2
  IL_009a: callvirt System.Single Monocle.Entity::get_Y()
  IL_009f: conv.i4
  IL_00a0: ldloc.2
  IL_00a1: ldfld System.Int32 Celeste.Lightning::VisualWidth
  IL_00a6: ldloc.2
  IL_00a7: ldfld System.Int32 Celeste.Lightning::VisualHeight
  IL_00ac: newobj System.Void Microsoft.Xna.Framework.Rectangle::.ctor(System.Int32,System.Int32,System.Int32,System.Int32)
  IL_00b1: newobj System.Void System.Nullable`1<Microsoft.Xna.Framework.Rectangle>::.ctor(T)
  IL_00b6: call Microsoft.Xna.Framework.Color Microsoft.Xna.Framework.Color::get_White()
  IL_00bb: callvirt System.Void Microsoft.Xna.Framework.Graphics.SpriteBatch::Draw(Microsoft.Xna.Framework.Graphics.Texture2D,Microsoft.Xna.Framework.Vector2,System.Nullable`1<Microsoft.Xna.Framework.Rectangle>,Microsoft.Xna.Framework.Color)
  IL_00c0: ldloca.s V_1
  IL_00c2: call System.Boolean System.Collections.Generic.List`1/Enumerator<Celeste.Lightning>::MoveNext()
  IL_00c7: brtrue IL_0064
  IL_00cc: leave IL_00df
  IL_00d1: ldloca.s V_1
  IL_00d3: constrained. System.Collections.Generic.List`1/Enumerator<Celeste.Lightning>
  IL_00d9: callvirt System.Void System.IDisposable::Dispose()
  IL_00de: endfinally
  IL_00df: ldarg.0
  IL_00e0: ldfld System.Collections.Generic.List`1<Celeste.LightningRenderer/Edge> Celeste.LightningRenderer::edges
  IL_00e5: callvirt System.Int32 System.Collections.Generic.List`1<Celeste.LightningRenderer/Edge>::get_Count()
  IL_00ea: ldc.i4.0
  IL_00eb: ble IL_02b2
  IL_00f0: ldarg.0
  IL_00f1: ldfld System.Boolean Celeste.LightningRenderer::DrawEdges
+ IL_00f6: ldc.i4 7769 @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
+ IL_00fb: ldc.i4 16515416 @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
+ IL_0100: call T MonoMod.Utils.DynamicReferenceManager::GetValueTUnsafe<System.Delegate>(System.Int32,System.Int32) @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
  |-> retrieves System.Boolean TAS.EverestInterop.SimplifiedGraphicsFeature/<>c::<LightningRenderer_RenderIL>b__43_3(System.Boolean)
+ IL_0105: call TResult MonoMod.Cil.FastDelegateInvokers::InvokeTypeVal1<System.Boolean,System.Boolean>(T0,MonoMod.Cil.FastDelegateInvokers/TypeVal1`2<TResult,T0>) @ TAS.EverestInterop.SimplifiedGraphicsFeature::LightningRenderer_RenderIL
  IL_010a: brfalse IL_02b2
  IL_010f: ldc.i4.0
  IL_0110: stloc.s V_5
  IL_0112: br IL_0147
  IL_0117: ldarg.0
  IL_0118: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColorsLerped
  IL_011d: ldloc.s V_5
  IL_011f: ldarg.0
  IL_0120: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColors
  IL_0125: ldloc.s V_5
  IL_0127: ldelem.any Microsoft.Xna.Framework.Color
  IL_012c: call Microsoft.Xna.Framework.Color Microsoft.Xna.Framework.Color::get_White()
  IL_0131: ldarg.0
  IL_0132: ldfld System.Single Celeste.LightningRenderer::Fade
  IL_0137: call Microsoft.Xna.Framework.Color Microsoft.Xna.Framework.Color::Lerp(Microsoft.Xna.Framework.Color,Microsoft.Xna.Framework.Color,System.Single)
  IL_013c: stelem.any Microsoft.Xna.Framework.Color
  IL_0141: ldloc.s V_5
  IL_0143: ldc.i4.1
  IL_0144: add
  IL_0145: stloc.s V_5
  IL_0147: ldloc.s V_5
  IL_0149: ldarg.0
  IL_014a: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColorsLerped
  IL_014f: ldlen
  IL_0150: conv.i4
  IL_0151: blt IL_0117
  IL_0156: ldc.i4.0
  IL_0157: stloc.3
  IL_0158: ldarg.0
  IL_0159: ldfld System.UInt32 Celeste.LightningRenderer::leapSeed
  IL_015e: stloc.s V_4
  IL_0160: ldarg.0
  IL_0161: ldfld System.Collections.Generic.List`1<Celeste.LightningRenderer/Edge> Celeste.LightningRenderer::edges
  IL_0166: callvirt System.Collections.Generic.List`1/Enumerator<T> System.Collections.Generic.List`1<Celeste.LightningRenderer/Edge>::GetEnumerator()
  IL_016b: stloc.s V_6
  IL_016d: br IL_026e
  IL_0172: ldloca.s V_6
  IL_0174: call T System.Collections.Generic.List`1/Enumerator<Celeste.LightningRenderer/Edge>::get_Current()
  IL_0179: stloc.s V_7
  IL_017b: ldloc.s V_7
  IL_017d: ldfld System.Boolean Celeste.LightningRenderer/Edge::Visible
  IL_0182: brfalse IL_026e
  IL_0187: ldloca.s V_3
  IL_0189: ldarg.0
  IL_018a: ldflda Microsoft.Xna.Framework.Graphics.VertexPositionColor[] Celeste.LightningRenderer::edgeVerts
  IL_018f: ldarg.0
  IL_0190: ldfld System.UInt32 Celeste.LightningRenderer::edgeSeed
  IL_0195: ldloc.s V_7
  IL_0197: ldfld Celeste.Lightning Celeste.LightningRenderer/Edge::Parent
  IL_019c: ldfld Microsoft.Xna.Framework.Vector2 Monocle.Entity::Position
  IL_01a1: ldloc.s V_7
  IL_01a3: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::A
  IL_01a8: ldloc.s V_7
  IL_01aa: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::B
  IL_01af: ldarg.0
  IL_01b0: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColorsLerped
  IL_01b5: ldc.i4.0
  IL_01b6: ldelem.any Microsoft.Xna.Framework.Color
  IL_01bb: ldc.r4 1
  IL_01c0: ldarg.0
  IL_01c1: ldfld System.Single Celeste.LightningRenderer::Fade
  IL_01c6: ldc.r4 3
  IL_01cb: mul
  IL_01cc: add
  IL_01cd: call System.Void Celeste.LightningRenderer::DrawSimpleLightning(System.Int32&,Microsoft.Xna.Framework.Graphics.VertexPositionColor[]&,System.UInt32,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Color,System.Single)
  IL_01d2: ldloca.s V_3
  IL_01d4: ldarg.0
  IL_01d5: ldflda Microsoft.Xna.Framework.Graphics.VertexPositionColor[] Celeste.LightningRenderer::edgeVerts
  IL_01da: ldarg.0
  IL_01db: ldfld System.UInt32 Celeste.LightningRenderer::edgeSeed
  IL_01e0: ldc.i4.1
  IL_01e1: add
  IL_01e2: ldloc.s V_7
  IL_01e4: ldfld Celeste.Lightning Celeste.LightningRenderer/Edge::Parent
  IL_01e9: ldfld Microsoft.Xna.Framework.Vector2 Monocle.Entity::Position
  IL_01ee: ldloc.s V_7
  IL_01f0: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::A
  IL_01f5: ldloc.s V_7
  IL_01f7: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::B
  IL_01fc: ldarg.0
  IL_01fd: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColorsLerped
  IL_0202: ldc.i4.1
  IL_0203: ldelem.any Microsoft.Xna.Framework.Color
  IL_0208: ldc.r4 1
  IL_020d: ldarg.0
  IL_020e: ldfld System.Single Celeste.LightningRenderer::Fade
  IL_0213: ldc.r4 3
  IL_0218: mul
  IL_0219: add
  IL_021a: call System.Void Celeste.LightningRenderer::DrawSimpleLightning(System.Int32&,Microsoft.Xna.Framework.Graphics.VertexPositionColor[]&,System.UInt32,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Color,System.Single)
  IL_021f: ldloca.s V_4
  IL_0221: call System.UInt32 Celeste.LightningRenderer::PseudoRand(System.UInt32&)
  IL_0226: ldc.i4.s 30
  IL_0228: rem.un
  IL_0229: brtrue IL_026e
  IL_022e: ldloca.s V_3
  IL_0230: ldarg.0
  IL_0231: ldflda Microsoft.Xna.Framework.Graphics.VertexPositionColor[] Celeste.LightningRenderer::edgeVerts
  IL_0236: ldarg.0
  IL_0237: ldfld System.UInt32 Celeste.LightningRenderer::edgeSeed
  IL_023c: ldloc.s V_7
  IL_023e: ldfld Celeste.Lightning Celeste.LightningRenderer/Edge::Parent
  IL_0243: ldfld Microsoft.Xna.Framework.Vector2 Monocle.Entity::Position
  IL_0248: ldloc.s V_7
  IL_024a: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::A
  IL_024f: ldloc.s V_7
  IL_0251: ldfld Microsoft.Xna.Framework.Vector2 Celeste.LightningRenderer/Edge::B
  IL_0256: ldc.r4 24
  IL_025b: ldc.i4.s 10
  IL_025d: ldarg.0
  IL_025e: ldfld Microsoft.Xna.Framework.Color[] Celeste.LightningRenderer::electricityColorsLerped
  IL_0263: ldc.i4.1
  IL_0264: ldelem.any Microsoft.Xna.Framework.Color
  IL_0269: call System.Void Celeste.LightningRenderer::DrawBezierLightning(System.Int32&,Microsoft.Xna.Framework.Graphics.VertexPositionColor[]&,System.UInt32,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,Microsoft.Xna.Framework.Vector2,System.Single,System.Int32,Microsoft.Xna.Framework.Color)
  IL_026e: ldloca.s V_6
  IL_0270: call System.Boolean System.Collections.Generic.List`1/Enumerator<Celeste.LightningRenderer/Edge>::MoveNext()
  IL_0275: brtrue IL_0172
  IL_027a: leave IL_028d
  IL_027f: ldloca.s V_6
  IL_0281: constrained. System.Collections.Generic.List`1/Enumerator<Celeste.LightningRenderer/Edge>
  IL_0287: callvirt System.Void System.IDisposable::Dispose()
  IL_028c: endfinally
  IL_028d: ldloc.3
  IL_028e: ldc.i4.0
  IL_028f: ble IL_02b2
  IL_0294: call System.Void Celeste.GameplayRenderer::End()
  IL_0299: ldloc.0
  IL_029a: callvirt Microsoft.Xna.Framework.Matrix Monocle.Camera::get_Matrix()
  IL_029f: ldarg.0
  IL_02a0: ldfld Microsoft.Xna.Framework.Graphics.VertexPositionColor[] Celeste.LightningRenderer::edgeVerts
  IL_02a5: ldloc.3
  IL_02a6: ldnull
  IL_02a7: ldnull
  IL_02a8: call System.Void Celeste.GFX::DrawVertices<Microsoft.Xna.Framework.Graphics.VertexPositionColor>(Microsoft.Xna.Framework.Matrix,T[],System.Int32,Microsoft.Xna.Framework.Graphics.Effect,Microsoft.Xna.Framework.Graphics.BlendState)
  IL_02ad: call System.Void Celeste.GameplayRenderer::Begin()
  IL_02b2: ret
